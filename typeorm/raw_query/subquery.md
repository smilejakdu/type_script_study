- [요소가 하나일때](#요소가-하나일때)
- [요소가 여러개일때(any)](#요소가-여러개일때-any)
- [요소가 여러개일때(all)](#요소가-여러개일때-all)
- [요소가 여러개일때(in)](#요소가-여러개일때-in)

```sql
mysql> select * from users;
+----+----------------------------+----------------------------+-----------+----------+--------------------------------------------------------------+
| id | createdAt                  | updatedAt                  | deletedAt | nickname | password                                                     |
+----+----------------------------+----------------------------+-----------+----------+--------------------------------------------------------------+
|  1 | 2021-09-18 21:03:44.118330 | 2021-09-18 21:03:44.118330 | NULL      | ash      | $2b$12$i5FSV4fsxyapytYyw/6zR.g9tBeeqTMoEVZBxTZNs/Z/bDoB27l.G |
|  2 | 2021-09-21 11:19:22.583313 | 2021-09-21 11:19:22.583313 | NULL      | bob      | $2b$12$VyH4IRjxTnP7u2wh8WClzuXPjEVX3rC0U6gYg0MQRzDMko0Qf8Gpm |
+----+----------------------------+----------------------------+-----------+----------+--------------------------------------------------------------+
2 rows in set (0.00 sec)

mysql> select * from boards;
+----+----------------------------+----------------------------+-----------+-------------+---------------+-----------+--------+
| id | createdAt                  | updatedAt                  | deletedAt | title       | content       | imagePath | UserId |
+----+----------------------------+----------------------------+-----------+-------------+---------------+-----------+--------+
|  9 | 2021-09-21 11:39:17.760746 | 2021-09-21 11:39:17.760746 | NULL      | ash_title_1 | ash_content_1 |           |      1 |
| 10 | 2021-09-21 11:39:24.070210 | 2021-09-21 11:39:24.070210 | NULL      | ash_title_2 | ash_content_2 |           |      1 |
| 11 | 2021-09-21 11:39:32.150383 | 2021-09-21 11:39:32.150383 | NULL      | ash_title_3 | ash_content_3 |           |      1 |
| 12 | 2021-09-21 11:40:54.530456 | 2021-09-21 11:40:54.530456 | NULL      | bob_title_1 | bob_content_1 |           |      2 |
+----+----------------------------+----------------------------+-----------+-------------+---------------+-----------+--------+
4 rows in set (0.00 sec)

mysql> select * from hashtag;
+----+----------------------------+----------------------------+-----------+--------+
| id | createdAt                  | updatedAt                  | deletedAt | hash   |
+----+----------------------------+----------------------------+-----------+--------+
| 19 | 2021-09-21 11:39:17.817850 | 2021-09-21 11:39:17.817850 | NULL      | 노드   |
| 20 | 2021-09-21 11:39:17.817850 | 2021-09-21 11:39:17.817850 | NULL      | test   |
| 21 | 2021-09-21 11:39:32.170952 | 2021-09-21 11:39:32.170952 | NULL      | ddd    |
+----+----------------------------+----------------------------+-----------+--------+
3 rows in set (0.01 sec)

mysql> select * from boardhashtag;
+---------+--------+----+----------------------------+----------------------------+-----------+
| BoardId | HashId | id | createdAt                  | updatedAt                  | deletedAt |
+---------+--------+----+----------------------------+----------------------------+-----------+
|       9 |     19 |  8 | 2021-09-21 11:39:17.829822 | 2021-09-21 11:39:17.829822 | NULL      |
|       9 |     20 |  9 | 2021-09-21 11:39:17.829822 | 2021-09-21 11:39:17.829822 | NULL      |
|      10 |     19 | 10 | 2021-09-21 11:39:24.087972 | 2021-09-21 11:39:24.087972 | NULL      |
|      10 |     20 | 11 | 2021-09-21 11:39:24.087972 | 2021-09-21 11:39:24.087972 | NULL      |
|      11 |     19 | 12 | 2021-09-21 11:39:32.176428 | 2021-09-21 11:39:32.176428 | NULL      |
|      11 |     20 | 13 | 2021-09-21 11:39:32.176428 | 2021-09-21 11:39:32.176428 | NULL      |
|      11 |     21 | 14 | 2021-09-21 11:39:32.176428 | 2021-09-21 11:39:32.176428 | NULL      |
|      12 |     19 | 15 | 2021-09-21 11:40:54.553018 | 2021-09-21 11:40:54.553018 | NULL      |
|      12 |     20 | 16 | 2021-09-21 11:40:54.553018 | 2021-09-21 11:40:54.553018 | NULL      |
|      12 |     21 | 17 | 2021-09-21 11:40:54.553018 | 2021-09-21 11:40:54.553018 | NULL      |
+---------+--------+----+----------------------------+----------------------------+-----------+
10 rows in set (0.01 sec)
```

우선적으로 이렇게 있다고 가정을 하겠다.

# 요소가 하나일때

`boards` 테이블에서 `UserId=2` 하나 존재한다.

```sql
mysql> select * from boardhashtag where BoardId = (select id from boards where UserId =2);
+---------+--------+----+----------------------------+----------------------------+-----------+
| BoardId | HashId | id | createdAt                  | updatedAt                  | deletedAt |
+---------+--------+----+----------------------------+----------------------------+-----------+
|      12 |     19 | 15 | 2021-09-21 11:40:54.553018 | 2021-09-21 11:40:54.553018 | NULL      |
|      12 |     20 | 16 | 2021-09-21 11:40:54.553018 | 2021-09-21 11:40:54.553018 | NULL      |
|      12 |     21 | 17 | 2021-09-21 11:40:54.553018 | 2021-09-21 11:40:54.553018 | NULL      |
+---------+--------+----+----------------------------+----------------------------+-----------+
```

# 요소가 여러개일때 ANY

`boards` 테이블에서 `UserId=1` 가 3개 존재한다.

```sql
mysql> select * from boardhashtag where BoardId >ANY (select id from boards where UserId =1);
+---------+--------+----+----------------------------+----------------------------+-----------+
| BoardId | HashId | id | createdAt                  | updatedAt                  | deletedAt |
+---------+--------+----+----------------------------+----------------------------+-----------+
|      10 |     19 | 10 | 2021-09-21 11:39:24.087972 | 2021-09-21 11:39:24.087972 | NULL      |
|      10 |     20 | 11 | 2021-09-21 11:39:24.087972 | 2021-09-21 11:39:24.087972 | NULL      |
|      11 |     19 | 12 | 2021-09-21 11:39:32.176428 | 2021-09-21 11:39:32.176428 | NULL      |
|      11 |     20 | 13 | 2021-09-21 11:39:32.176428 | 2021-09-21 11:39:32.176428 | NULL      |
|      11 |     21 | 14 | 2021-09-21 11:39:32.176428 | 2021-09-21 11:39:32.176428 | NULL      |
|      12 |     19 | 15 | 2021-09-21 11:40:54.553018 | 2021-09-21 11:40:54.553018 | NULL      |
|      12 |     20 | 16 | 2021-09-21 11:40:54.553018 | 2021-09-21 11:40:54.553018 | NULL      |
|      12 |     21 | 17 | 2021-09-21 11:40:54.553018 | 2021-09-21 11:40:54.553018 | NULL      |
+---------+--------+----+----------------------------+----------------------------+-----------+
8 rows in set (0.00 sec)
```

에러가 발생한다 . 요소가 1개이상일때는 명령어를 다르게 적어줘야한다.
부등호가 `>` 가 되어있으니 서브쿼리 결과보다 `BoardId` 가 큰 데이터를 출력하게 된다.

- 서브쿼리에서 조회되는 결과중 `하나라도 일치하는` 데이터를 출력하게 된다.
- 데이터에 `OR` 조건을 거는거라고 생각하면 된다.

# 요소가 여러개일때 ALL

`ALL` 은 언제 사용해야할까 ?

```sql
mysql> select * from boardhashtag where BoardId >ALL (select id from boards where UserId =1);
+---------+--------+----+----------------------------+----------------------------+-----------+
| BoardId | HashId | id | createdAt                  | updatedAt                  | deletedAt |
+---------+--------+----+----------------------------+----------------------------+-----------+
|      12 |     19 | 15 | 2021-09-21 11:40:54.553018 | 2021-09-21 11:40:54.553018 | NULL      |
|      12 |     20 | 16 | 2021-09-21 11:40:54.553018 | 2021-09-21 11:40:54.553018 | NULL      |
|      12 |     21 | 17 | 2021-09-21 11:40:54.553018 | 2021-09-21 11:40:54.553018 | NULL      |
+---------+--------+----+----------------------------+----------------------------+-----------+
3 rows in set (0.00 sec)
```

해당 서브쿼리에서 `subquery` 결과 중보다 큰 녀석들만 출력하게 된다 .

# 요소가 여러개일때 IN

현재 `boards` 테이블에는

```sql
mysql> select * from boards;
+----+----------------------------+----------------------------+-----------+-------------+---------------+-----------+--------+
| id | createdAt                  | updatedAt                  | deletedAt | title       | content       | imagePath | UserId |
+----+----------------------------+----------------------------+-----------+-------------+---------------+-----------+--------+
|  9 | 2021-09-21 11:39:17.760746 | 2021-09-21 11:39:17.760746 | NULL      | ash_title_1 | ash_content_1 |           |      1 |
| 10 | 2021-09-21 11:39:24.070210 | 2021-09-21 11:39:24.070210 | NULL      | ash_title_2 | ash_content_2 |           |      1 |
| 11 | 2021-09-21 11:39:32.150383 | 2021-09-21 11:39:32.150383 | NULL      | ash_title_3 | ash_content_3 |           |      1 |
| 12 | 2021-09-21 11:40:54.530456 | 2021-09-21 11:40:54.530456 | NULL      | bob_title_1 | bob_content_1 |           |      2 |
+----+----------------------------+----------------------------+-----------+-------------+---------------+-----------+--------+
4 rows in set (0.00 sec)
```

이중에서 `select` 문으로 `id` 를 뽑게 된다면 9 , 10 , 11 이 뽑히게 된다.

```sql
mysql> select * from boardhashtag where BoardId IN (select id from boards where UserId =1);
+---------+--------+----+----------------------------+----------------------------+-----------+
| BoardId | HashId | id | createdAt                  | updatedAt                  | deletedAt |
+---------+--------+----+----------------------------+----------------------------+-----------+
|       9 |     19 |  8 | 2021-09-21 11:39:17.829822 | 2021-09-21 11:39:17.829822 | NULL      |
|       9 |     20 |  9 | 2021-09-21 11:39:17.829822 | 2021-09-21 11:39:17.829822 | NULL      |
|      10 |     19 | 10 | 2021-09-21 11:39:24.087972 | 2021-09-21 11:39:24.087972 | NULL      |
|      10 |     20 | 11 | 2021-09-21 11:39:24.087972 | 2021-09-21 11:39:24.087972 | NULL      |
|      11 |     19 | 12 | 2021-09-21 11:39:32.176428 | 2021-09-21 11:39:32.176428 | NULL      |
|      11 |     20 | 13 | 2021-09-21 11:39:32.176428 | 2021-09-21 11:39:32.176428 | NULL      |
|      11 |     21 | 14 | 2021-09-21 11:39:32.176428 | 2021-09-21 11:39:32.176428 | NULL      |
+---------+--------+----+----------------------------+----------------------------+-----------+
7 rows in set (0.00 sec)
```

위의 결과 `=ANY` 결과와 같다.

```sql
mysql> select * from boardhashtag where BoardId =ANY (select id from boards where UserId =1);
+---------+--------+----+----------------------------+----------------------------+-----------+
| BoardId | HashId | id | createdAt                  | updatedAt                  | deletedAt |
+---------+--------+----+----------------------------+----------------------------+-----------+
|       9 |     19 |  8 | 2021-09-21 11:39:17.829822 | 2021-09-21 11:39:17.829822 | NULL      |
|       9 |     20 |  9 | 2021-09-21 11:39:17.829822 | 2021-09-21 11:39:17.829822 | NULL      |
|      10 |     19 | 10 | 2021-09-21 11:39:24.087972 | 2021-09-21 11:39:24.087972 | NULL      |
|      10 |     20 | 11 | 2021-09-21 11:39:24.087972 | 2021-09-21 11:39:24.087972 | NULL      |
|      11 |     19 | 12 | 2021-09-21 11:39:32.176428 | 2021-09-21 11:39:32.176428 | NULL      |
|      11 |     20 | 13 | 2021-09-21 11:39:32.176428 | 2021-09-21 11:39:32.176428 | NULL      |
|      11 |     21 | 14 | 2021-09-21 11:39:32.176428 | 2021-09-21 11:39:32.176428 | NULL      |
+---------+--------+----+----------------------------+----------------------------+-----------+
7 rows in set (0.01 sec)
```
