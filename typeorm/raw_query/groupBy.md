- [count](#count)
- [group by count](#group-by-count)
- [참고자료](https://extbrain.tistory.com/56)

# count

```sql
mysql> select * from boards;
+----+----------------------------+----------------------------+-----------+-------------+---------------+-----------+--------+
| id | createdAt                  | updatedAt                  | deletedAt | title       | content       | imagePath | UserId |
+----+----------------------------+----------------------------+-----------+-------------+---------------+-----------+--------+
|  9 | 2021-09-21 11:39:17.760746 | 2021-09-21 11:39:17.760746 | NULL      | ash_title_1 | ash_content_1 |           |      1 |
| 10 | 2021-09-21 11:39:24.070210 | 2021-09-21 11:39:24.070210 | NULL      | ash_title_2 | ash_content_2 |           |      1 |
| 11 | 2021-09-21 11:39:32.150383 | 2021-09-21 11:39:32.150383 | NULL      | ash_title_3 | ash_content_3 |           |      1 |
| 12 | 2021-09-21 11:40:54.530456 | 2021-09-21 11:40:54.530456 | NULL      | bob_title_1 | bob_content_1 |           |      2 |
+----+----------------------------+----------------------------+-----------+-------------+---------------+-----------+--------+
4 rows in set (0.00 sec)
```

현재 `boards` 에 데이터가 이렇게 되어있다.
여기서 각각 `users` 에따른 게시글 개수를 구하고싶다고 한다면 , `count` 집계함수를 가져다가 사용하면 된다.

```sql
mysql> select UserId , count(*) as count from boards group by UserId;
+--------+-------+
| UserId | count |
+--------+-------+
|      1 |     3 |
|      2 |     1 |
+--------+-------+
2 rows in set (0.00 sec)
```

# group by count

```sql
mysql> select * from boards;
+----+----------------------------+----------------------------+-----------+-------------+---------------+-----------+--------+
| id | createdAt                  | updatedAt                  | deletedAt | title       | content       | imagePath | UserId |
+----+----------------------------+----------------------------+-----------+-------------+---------------+-----------+--------+
|  9 | 2021-09-21 11:39:17.760746 | 2021-09-21 11:39:17.760746 | NULL      | ash_title_1 | ash_content_1 |           |      1 |
| 10 | 2021-09-21 11:39:24.070210 | 2021-09-21 11:39:24.070210 | NULL      | ash_title_2 | ash_content_2 |           |      1 |
| 11 | 2021-09-21 11:39:32.150383 | 2021-09-21 11:39:32.150383 | NULL      | ash_title_3 | ash_content_3 |           |      1 |
| 12 | 2021-09-21 11:40:54.530456 | 2021-09-21 11:40:54.530456 | NULL      | bob_title_1 | bob_content_1 |           |      2 |
+----+----------------------------+----------------------------+-----------+-------------+---------------+-----------+--------+
4 rows in set (0.02 sec)

mysql> select * from users;
+----+----------------------------+----------------------------+-----------+----------+--------------------------------------------------------------+
| id | createdAt                  | updatedAt                  | deletedAt | nickname | password                                                     |
+----+----------------------------+----------------------------+-----------+----------+--------------------------------------------------------------+
|  1 | 2021-09-18 21:03:44.118330 | 2021-09-18 21:03:44.118330 | NULL      | ash      | $2b$12$i5FSV4fsxyapytYyw/6zR.g9tBeeqTMoEVZBxTZNs/Z/bDoB27l.G |
|  2 | 2021-09-21 11:19:22.583313 | 2021-09-21 11:19:22.583313 | NULL      | bob      | $2b$12$VyH4IRjxTnP7u2wh8WClzuXPjEVX3rC0U6gYg0MQRzDMko0Qf8Gpm |
+----+----------------------------+----------------------------+-----------+----------+--------------------------------------------------------------+
2 rows in set (0.00 sec)
```

```sql
mysql> select users.*,count(boards.id) as board_cnt from users inner join boards on users.id = boards.UserId group by users.id , users.createdAt , users.updatedAt , users.deletedAt , users.nickname,UserId;
+----+----------------------------+----------------------------+-----------+----------+--------------------------------------------------------------+-----------+
| id | createdAt                  | updatedAt                  | deletedAt | nickname | password                                                     | board_cnt |
+----+----------------------------+----------------------------+-----------+----------+--------------------------------------------------------------+-----------+
|  1 | 2021-09-18 21:03:44.118330 | 2021-09-18 21:03:44.118330 | NULL      | ash      | $2b$12$i5FSV4fsxyapytYyw/6zR.g9tBeeqTMoEVZBxTZNs/Z/bDoB27l.G |         3 |
|  2 | 2021-09-21 11:19:22.583313 | 2021-09-21 11:19:22.583313 | NULL      | bob      | $2b$12$VyH4IRjxTnP7u2wh8WClzuXPjEVX3rC0U6gYg0MQRzDMko0Qf8Gpm |         1 |
+----+----------------------------+----------------------------+-----------+----------+--------------------------------------------------------------+-----------+
2 rows in set (0.04 sec)
```
